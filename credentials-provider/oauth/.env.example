# =============================================================================
# MCP Gateway Registry - OAuth Environment Configuration
# =============================================================================
# Copy this file to .env and update with your actual OAuth provider credentials
# This file contains credentials for both ingress and egress OAuth flows

# =============================================================================
# REGISTRY CONFIGURATION
# =============================================================================

# Public URL where the MCP Gateway Registry is accessible
REGISTRY_URL=https://your-domain.com

# Registry admin credentials (can be same as main .env)
ADMIN_USER=admin
ADMIN_PASSWORD=your-secure-password-here

# =============================================================================
# AUTH SERVER CONFIGURATION
# =============================================================================

# Internal and external auth server URLs
AUTH_SERVER_URL=http://auth-server:8888
AUTH_SERVER_EXTERNAL_URL=https://your-domain.com

# =============================================================================
# AUTHENTICATION PROVIDER SELECTION
# =============================================================================
# Choose authentication provider: cognito or keycloak
AUTH_PROVIDER=keycloak

# =============================================================================
# AWS COGNITO OAUTH2 CONFIGURATION
# =============================================================================
# AWS Configuration
AWS_REGION=us-east-1

INGRESS_OAUTH_USER_POOL_ID=us-east-1_XXXXXXXXX
#INGRESS_OAUTH_USER_POOL_ID=us-east-1_YRy6fCXkS

# Ingress OAuth App Client ID (copied from .env.agent working credentials)
INGRESS_OAUTH_CLIENT_ID=your_ingress_client_id_here #alternative_client_id
#INGRESS_OAUTH_CLIENT_ID=alternative_client_id_2

# Ingress OAuth App Client Secret (copied from .env.agent working credentials)
INGRESS_OAUTH_CLIENT_SECRET=your_ingress_client_secret_here #alternative_secret
#INGRESS_OAUTH_CLIENT_SECRET=alternative_secret_2

# =============================================================================
# KEYCLOAK OAUTH2 CONFIGURATION (if AUTH_PROVIDER=keycloak)
# =============================================================================
# Keycloak server configuration
KEYCLOAK_URL=https://your-domain.com/keycloak
KEYCLOAK_REALM=mcp-gateway

# Keycloak M2M Client Credentials (for ingress authentication)
KEYCLOAK_M2M_CLIENT_ID=mcp-gateway-m2m
KEYCLOAK_M2M_CLIENT_SECRET=your_keycloak_m2m_client_secret_here

# =============================================================================
# EGRESS OAUTH CONFIGURATION (Optional - for external services)
# =============================================================================
# Configure multiple external OAuth providers using numbered suffixes
# Supports configurations _1, _2, _3, etc. (up to _100)

# Configuration Set 1 - Example: Atlassian
EGRESS_OAUTH_CLIENT_ID_1=your_atlassian_client_id_here
EGRESS_OAUTH_CLIENT_SECRET_1=your_atlassian_client_secret_here
EGRESS_OAUTH_REDIRECT_URI_1=http://localhost:9999/callback
# IMPORTANT: This redirect URI MUST match exactly what you configure in your Atlassian OAuth app settings
# EGRESS_OAUTH_SCOPE_1=read:confluence-content.all,write:confluence-content
EGRESS_PROVIDER_NAME_1=atlassian
EGRESS_MCP_SERVER_NAME_1=atlassian

# Configuration Set 2 - Example: Google
# EGRESS_OAUTH_CLIENT_ID_2=your_google_client_id_here
# EGRESS_OAUTH_CLIENT_SECRET_2=your_google_client_secret_here
# EGRESS_OAUTH_REDIRECT_URI_2=http://localhost:9999/callback
# EGRESS_OAUTH_SCOPE_2=https://www.googleapis.com/auth/drive.readonly
# EGRESS_PROVIDER_NAME_2=google
# EGRESS_MCP_SERVER_NAME_2=google-drive

# Configuration Set 3 - Example: GitHub
# EGRESS_OAUTH_CLIENT_ID_3=your_github_client_id_here
# EGRESS_OAUTH_CLIENT_SECRET_3=your_github_client_secret_here
# EGRESS_OAUTH_REDIRECT_URI_3=http://localhost:9999/callback
# EGRESS_OAUTH_SCOPE_3=repo,read:user
# EGRESS_PROVIDER_NAME_3=github
# EGRESS_MCP_SERVER_NAME_3=github-repos

# Configuration Set 4 - Example: Microsoft
# EGRESS_OAUTH_CLIENT_ID_4=your_microsoft_client_id_here
# EGRESS_OAUTH_CLIENT_SECRET_4=your_microsoft_client_secret_here
# EGRESS_OAUTH_REDIRECT_URI_4=http://localhost:9999/callback
# EGRESS_OAUTH_SCOPE_4=https://graph.microsoft.com/mail.read
# EGRESS_PROVIDER_NAME_4=microsoft
# EGRESS_MCP_SERVER_NAME_4=outlook

# =============================================================================
# CONFIGURATION NOTES
# =============================================================================

# Provider Names Supported:
# - atlassian: Atlassian Cloud (Confluence, Jira)
# - google: Google services (Drive, Gmail, Calendar)
# - github: GitHub repositories and issues
# - microsoft: Microsoft 365 services
# - bedrock-agentcore: Amazon Bedrock AgentCore services

# Redirect URI Notes:
# - CRITICAL: The redirect URI in this file MUST match exactly what you configure in your OAuth provider settings
# - For local development: http://localhost:9999/callback (changed from 8080 to avoid Keycloak port conflicts)
# - For production: https://your-domain.com/oauth/callback
# - If URLs don't match exactly, OAuth flow will fail with "redirect_uri not registered" error

# Scope Notes:
# - If EGRESS_OAUTH_SCOPE_N is not specified, provider defaults will be used
# - Each provider has different scope formats and requirements
# - Consult provider documentation for available scopes

# Security Notes:
# - Keep this file secure and never commit real credentials
# - Use environment-specific values for different deployments
# - Rotate credentials regularly for production environments